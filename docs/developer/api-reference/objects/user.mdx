---
id: user
title: User
hide_table_of_contents: false
---

Represents user data.

```graphql
type User implements Node, ObjectWithMetadata {
  id: ID!
  privateMetadata: [MetadataItem!]!
  privateMetafield(key: String!): String
  privateMetafields(keys: [String!]): Metadata
  metadata: [MetadataItem!]!
  metafield(key: String!): String
  metafields(keys: [String!]): Metadata
  email: String!
  firstName: String!
  lastName: String!
  isStaff: Boolean!
  isActive: Boolean!
  isConfirmed: Boolean!
  addresses: [Address!]!
  checkout: Checkout
  checkoutTokens(channel: String): [UUID!]
  checkoutIds(channel: String): [ID!]
  checkouts(
    channel: String
    before: String
    after: String
    first: Int
    last: Int
  ): CheckoutCountableConnection
  giftCards(
    before: String
    after: String
    first: Int
    last: Int
  ): GiftCardCountableConnection
  note: String
  orders(
    before: String
    after: String
    first: Int
    last: Int
  ): OrderCountableConnection
  userPermissions: [UserPermission!]
  permissionGroups: [Group!]
  editableGroups: [Group!]
  accessibleChannels: [Channel!]
  restrictedAccessToChannels: Boolean!
  avatar(size: Int, format: ThumbnailFormatEnum): Image
  events: [CustomerEvent!]
  storedPaymentSources(channel: String): [PaymentSource!]
  languageCode: LanguageCodeEnum!
  defaultShippingAddress: Address
  defaultBillingAddress: Address
  externalReference: String
  lastLogin: DateTime
  dateJoined: DateTime!
  updatedAt: DateTime!
  storedPaymentMethods(channel: String!): [StoredPaymentMethod!]
}
```

### Fields

#### [`id`](#) ([`ID!`](../../../developer/api-reference/scalars/id))

The ID of the user.

#### [`privateMetadata`](#) ([`[MetadataItem!]!`](../../../developer/api-reference/objects/metadata-item))

List of private metadata items. Requires staff permissions to access.

#### [`privateMetafield`](#) ([`String`](../../../developer/api-reference/scalars/string))

A single key from private metadata. Requires staff permissions to access.

Tip: Use GraphQL aliases to fetch multiple keys.

- ##### [`key`](#) ([`String!`](../../../developer/api-reference/scalars/string))

#### [`privateMetafields`](#) ([`Metadata`](../../../developer/api-reference/scalars/metadata))

Private metadata. Requires staff permissions to access. Use `keys` to control which fields you want to include. The default is to include everything.

- ##### [`keys`](#) ([`[String!]`](../../../developer/api-reference/scalars/string))

#### [`metadata`](#) ([`[MetadataItem!]!`](../../../developer/api-reference/objects/metadata-item))

List of public metadata items. Can be accessed without permissions.

#### [`metafield`](#) ([`String`](../../../developer/api-reference/scalars/string))

A single key from public metadata.

Tip: Use GraphQL aliases to fetch multiple keys.

- ##### [`key`](#) ([`String!`](../../../developer/api-reference/scalars/string))

#### [`metafields`](#) ([`Metadata`](../../../developer/api-reference/scalars/metadata))

Public metadata. Use `keys` to control which fields you want to include. The default is to include everything.

- ##### [`keys`](#) ([`[String!]`](../../../developer/api-reference/scalars/string))

#### [`email`](#) ([`String!`](../../../developer/api-reference/scalars/string))

The email address of the user.

#### [`firstName`](#) ([`String!`](../../../developer/api-reference/scalars/string))

The given name of the address.

#### [`lastName`](#) ([`String!`](../../../developer/api-reference/scalars/string))

The family name of the address.

#### [`isStaff`](#) ([`Boolean!`](../../../developer/api-reference/scalars/boolean))

Determine if the user is a staff admin.

#### [`isActive`](#) ([`Boolean!`](../../../developer/api-reference/scalars/boolean))

Determine if the user is active.

#### [`isConfirmed`](#) ([`Boolean!`](../../../developer/api-reference/scalars/boolean))

Determines if user has confirmed email.

#### [`addresses`](#) ([`[Address!]!`](../../../developer/api-reference/objects/address))

List of all user's addresses.

#### [`checkout`](#) ([`Checkout`](../../../developer/api-reference/objects/checkout))

Returns the last open checkout of this user.

#### [`checkoutTokens`](#) ([`[UUID!]`](../../../developer/api-reference/scalars/uuid))

Returns the checkout UUID's assigned to this user.

- ##### [`channel`](#) ([`String`](../../../developer/api-reference/scalars/string))

Slug of a channel for which the data should be returned.

#### [`checkoutIds`](#) ([`[ID!]`](../../../developer/api-reference/scalars/id))

Returns the checkout ID's assigned to this user.

- ##### [`channel`](#) ([`String`](../../../developer/api-reference/scalars/string))

Slug of a channel for which the data should be returned.

#### [`checkouts`](#) ([`CheckoutCountableConnection`](../../../developer/api-reference/objects/checkout-countable-connection))

Returns checkouts assigned to this user.

- ##### [`channel`](#) ([`String`](../../../developer/api-reference/scalars/string))

Slug of a channel for which the data should be returned.

- ##### [`before`](#) ([`String`](../../../developer/api-reference/scalars/string))

Return the elements in the list that come before the specified cursor.

- ##### [`after`](#) ([`String`](../../../developer/api-reference/scalars/string))

Return the elements in the list that come after the specified cursor.

- ##### [`first`](#) ([`Int`](../../../developer/api-reference/scalars/int))

Retrieve the first n elements from the list. Note that the system only allows fetching a maximum of 100 objects in a single query.

- ##### [`last`](#) ([`Int`](../../../developer/api-reference/scalars/int))

Retrieve the last n elements from the list. Note that the system only allows fetching a maximum of 100 objects in a single query.

#### [`giftCards`](#) ([`GiftCardCountableConnection`](../../../developer/api-reference/objects/gift-card-countable-connection))

List of the user gift cards.

- ##### [`before`](#) ([`String`](../../../developer/api-reference/scalars/string))

Return the elements in the list that come before the specified cursor.

- ##### [`after`](#) ([`String`](../../../developer/api-reference/scalars/string))

Return the elements in the list that come after the specified cursor.

- ##### [`first`](#) ([`Int`](../../../developer/api-reference/scalars/int))

Retrieve the first n elements from the list. Note that the system only allows fetching a maximum of 100 objects in a single query.

- ##### [`last`](#) ([`Int`](../../../developer/api-reference/scalars/int))

Retrieve the last n elements from the list. Note that the system only allows fetching a maximum of 100 objects in a single query.

#### [`note`](#) ([`String`](../../../developer/api-reference/scalars/string))

A note about the customer.

Requires one of the following permissions: MANAGE_USERS, MANAGE_STAFF.

#### [`orders`](#) ([`OrderCountableConnection`](../../../developer/api-reference/objects/order-countable-connection))

List of user's orders. Requires one of the following permissions: MANAGE_STAFF, OWNER.

- ##### [`before`](#) ([`String`](../../../developer/api-reference/scalars/string))

Return the elements in the list that come before the specified cursor.

- ##### [`after`](#) ([`String`](../../../developer/api-reference/scalars/string))

Return the elements in the list that come after the specified cursor.

- ##### [`first`](#) ([`Int`](../../../developer/api-reference/scalars/int))

Retrieve the first n elements from the list. Note that the system only allows fetching a maximum of 100 objects in a single query.

- ##### [`last`](#) ([`Int`](../../../developer/api-reference/scalars/int))

Retrieve the last n elements from the list. Note that the system only allows fetching a maximum of 100 objects in a single query.

#### [`userPermissions`](#) ([`[UserPermission!]`](../../../developer/api-reference/objects/user-permission))

List of user's permissions.

#### [`permissionGroups`](#) ([`[Group!]`](../../../developer/api-reference/objects/group))

List of user's permission groups.

#### [`editableGroups`](#) ([`[Group!]`](../../../developer/api-reference/objects/group))

List of user's permission groups which user can manage.

#### [`accessibleChannels`](#) ([`[Channel!]`](../../../developer/api-reference/objects/channel))

List of channels the user has access to. The sum of channels from all user groups. If at least one group has `restrictedAccessToChannels` set to False - all channels are returned.

#### [`restrictedAccessToChannels`](#) ([`Boolean!`](../../../developer/api-reference/scalars/boolean))

Determine if user have restricted access to channels. False if at least one user group has `restrictedAccessToChannels` set to False.

#### [`avatar`](#) ([`Image`](../../../developer/api-reference/objects/image))

The avatar of the user.

- ##### [`size`](#) ([`Int`](../../../developer/api-reference/scalars/int))

Desired longest side the image in pixels. Defaults to 4096. Images are never cropped. Pass 0 to retrieve the original size (not recommended).

- ##### [`format`](#) ([`ThumbnailFormatEnum`](../../../developer/api-reference/enums/thumbnail-format-enum))

The format of the image. When not provided, format of the original image will be used.

#### [`events`](#) ([`[CustomerEvent!]`](../../../developer/api-reference/objects/customer-event))

List of events associated with the user.

Requires one of the following permissions: MANAGE_USERS, MANAGE_STAFF.

#### [`storedPaymentSources`](#) ([`[PaymentSource!]`](../../../developer/api-reference/objects/payment-source))

List of stored payment sources. The field returns a list of payment sources stored for payment plugins.

- ##### [`channel`](#) ([`String`](../../../developer/api-reference/scalars/string))

Slug of a channel for which the data should be returned.

#### [`languageCode`](#) ([`LanguageCodeEnum!`](../../../developer/api-reference/enums/language-code-enum))

User language code.

#### [`defaultShippingAddress`](#) ([`Address`](../../../developer/api-reference/objects/address))

The default shipping address of the user.

#### [`defaultBillingAddress`](#) ([`Address`](../../../developer/api-reference/objects/address))

The default billing address of the user.

#### [`externalReference`](#) ([`String`](../../../developer/api-reference/scalars/string))

External ID of this user.

#### [`lastLogin`](#) ([`DateTime`](../../../developer/api-reference/scalars/date-time))

The date when the user last time log in to the system.

#### [`dateJoined`](#) ([`DateTime!`](../../../developer/api-reference/scalars/date-time))

The data when the user create account.

#### [`updatedAt`](#) ([`DateTime!`](../../../developer/api-reference/scalars/date-time))

The data when the user last update the account information.

#### [`storedPaymentMethods`](#) ([`[StoredPaymentMethod!]`](../../../developer/api-reference/objects/stored-payment-method))

Returns a list of user's stored payment methods that can be used in provided channel. The field returns a list of stored payment methods by payment apps. When `amount` is not provided, 0 will be used as default value.

- ##### [`channel`](#) ([`String!`](../../../developer/api-reference/scalars/string))

Slug of a channel for which the data should be returned.

### Interfaces

#### [`Node`](../../../developer/api-reference/interfaces/node)

An object with an ID

#### [`ObjectWithMetadata`](../../../developer/api-reference/interfaces/object-with-metadata)
